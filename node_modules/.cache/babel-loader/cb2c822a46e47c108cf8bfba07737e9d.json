{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TryExtensionLinkDialog = void 0;\n\nconst clsx_1 = __importDefault(require(\"clsx\"));\n\nconst preact_1 = require(\"preact\");\n\nconst hooks_1 = require(\"preact/hooks\");\n\nconst util_1 = require(\"../util\");\n\nconst version_1 = require(\"../version\");\n\nconst globe_icon_svg_1 = __importDefault(require(\"./icons/globe-icon-svg\"));\n\nconst link_icon_svg_1 = __importDefault(require(\"./icons/link-icon-svg\"));\n\nconst lock_icon_svg_1 = __importDefault(require(\"./icons/lock-icon-svg\"));\n\nconst QRLogo_1 = __importDefault(require(\"./icons/QRLogo\"));\n\nconst QRCode_1 = require(\"./QRCode\");\n\nconst Spinner_1 = require(\"./Spinner\");\n\nconst TryExtensionLinkDialog_css_1 = __importDefault(require(\"./TryExtensionLinkDialog-css\"));\n\nconst TryExtensionLinkDialog = props => {\n  const {\n    isOpen,\n    darkMode\n  } = props;\n  const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!isOpen);\n  const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!isOpen);\n  (0, hooks_1.useEffect)(() => {\n    const timers = [window.setTimeout(() => {\n      setDialogHidden(!isOpen);\n    }, 10)];\n\n    if (isOpen) {\n      setContainerHidden(false);\n    } else {\n      timers.push(window.setTimeout(() => {\n        setContainerHidden(true);\n      }, 360));\n    }\n\n    return () => {\n      timers.forEach(window.clearTimeout);\n    };\n  }, [props.isOpen]);\n  const theme = darkMode ? \"dark\" : \"light\";\n  return (0, preact_1.h)(\"div\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-container\", isContainerHidden && \"-cbwsdk-extension-dialog-container-hidden\")\n  }, (0, preact_1.h)(\"style\", null, TryExtensionLinkDialog_css_1.default), (0, preact_1.h)(\"div\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-backdrop\", theme, isDialogHidden && \"-cbwsdk-extension-dialog-backdrop-hidden\")\n  }), (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-extension-dialog\"\n  }, (0, preact_1.h)(\"div\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box\", isDialogHidden && \"-cbwsdk-extension-dialog-box-hidden\")\n  }, (0, preact_1.h)(TryExtensionBox, {\n    darkMode: darkMode,\n    onInstallClick: () => {\n      window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n    }\n  }), !props.connectDisabled ? (0, preact_1.h)(ScanQRBox, {\n    darkMode: darkMode,\n    version: props.version,\n    sessionId: props.sessionId,\n    sessionSecret: props.sessionSecret,\n    linkAPIUrl: props.linkAPIUrl,\n    isConnected: props.isConnected,\n    isParentConnection: props.isParentConnection,\n    chainId: props.chainId\n  }) : null, props.onCancel && (0, preact_1.h)(CancelButton, {\n    darkMode: darkMode,\n    onClick: props.onCancel\n  }))));\n};\n\nexports.TryExtensionLinkDialog = TryExtensionLinkDialog;\n\nconst TryExtensionBox = _ref => {\n  let {\n    darkMode,\n    onInstallClick\n  } = _ref;\n  const [isClicked, setIsClicked] = (0, hooks_1.useState)(false);\n  const clickHandler = (0, hooks_1.useCallback)(() => {\n    if (isClicked) {\n      window.location.reload();\n    } else {\n      onInstallClick();\n      setIsClicked(true);\n    }\n  }, [onInstallClick, isClicked]);\n  const theme = darkMode ? \"dark\" : \"light\";\n  return (0, preact_1.h)(\"div\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-top\", theme)\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-extension-dialog-box-top-install-region\"\n  }, (0, preact_1.h)(\"h2\", {\n    class: theme\n  }, \"Try the Coinbase Wallet extension\"), isClicked && (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-extension-dialog-box-top-subtext\"\n  }, \"After installing Coinbase Wallet, refresh the page and connect again.\"), (0, preact_1.h)(\"button\", {\n    type: \"button\",\n    onClick: clickHandler\n  }, isClicked ? \"Refresh\" : \"Install\")), (0, preact_1.h)(\"div\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-top-info-region\", theme)\n  }, (0, preact_1.h)(DescriptionItem, {\n    darkMode: darkMode,\n    icon: link_icon_svg_1.default,\n    text: \"Connect to crypto apps with one click\"\n  }), (0, preact_1.h)(DescriptionItem, {\n    darkMode: darkMode,\n    icon: lock_icon_svg_1.default,\n    text: \"Your private key is stored securely\"\n  }), (0, preact_1.h)(DescriptionItem, {\n    darkMode: darkMode,\n    icon: globe_icon_svg_1.default,\n    text: \"Works with Ethereum, Polygon, and more\"\n  })));\n};\n\nconst ScanQRBox = props => {\n  const qrUrl = (0, util_1.createQrUrl)(props.sessionId, props.sessionSecret, props.linkAPIUrl, props.isParentConnection, props.chainId);\n  const theme = props.darkMode ? \"dark\" : \"light\";\n  return (0, preact_1.h)(\"div\", {\n    \"data-testid\": \"scan-qr-box\",\n    class: (0, clsx_1.default)(`-cbwsdk-extension-dialog-box-bottom`, theme)\n  }, (0, preact_1.h)(\"div\", {\n    class: `-cbwsdk-extension-dialog-box-bottom-description-region`\n  }, (0, preact_1.h)(\"h2\", {\n    class: theme\n  }, \"Or scan to connect\"), (0, preact_1.h)(\"body\", {\n    class: (0, clsx_1.default)(`-cbwsdk-extension-dialog-box-bottom-description`, theme)\n  }, \"Open\", \" \", (0, preact_1.h)(\"a\", {\n    href: \"https://wallet.coinbase.com/\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"Coinbase Wallet\"), \" \", \"on your mobile phone and scan\")), (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-extension-dialog-box-bottom-qr-region\"\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-extension-dialog-box-bottom-qr-wrapper\"\n  }, (0, preact_1.h)(QRCode_1.QRCode, {\n    content: qrUrl,\n    width: 150,\n    height: 150,\n    fgColor: \"#000\",\n    bgColor: \"transparent\",\n    image: {\n      svg: QRLogo_1.default,\n      width: 34,\n      height: 34\n    }\n  })), (0, preact_1.h)(\"input\", {\n    type: \"hidden\",\n    name: \"cbwsdk-version\",\n    value: version_1.LIB_VERSION\n  }), (0, preact_1.h)(\"input\", {\n    type: \"hidden\",\n    value: qrUrl\n  }), !props.isConnected && (0, preact_1.h)(\"div\", {\n    \"data-testid\": \"connecting-spinner\",\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-bottom-qr-connecting\", theme)\n  }, (0, preact_1.h)(Spinner_1.Spinner, {\n    size: 36,\n    color: props.darkMode ? \"#FFF\" : \"#000\"\n  }), (0, preact_1.h)(\"p\", null, \"Connecting...\"))));\n};\n\nconst DescriptionItem = props => {\n  const theme = props.darkMode ? \"dark\" : \"light\";\n  return (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-extension-dialog-box-top-description\"\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-extension-dialog-box-top-description-icon-wrapper\"\n  }, (0, preact_1.h)(\"img\", {\n    src: props.icon\n  })), (0, preact_1.h)(\"body\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-top-description-text\", theme)\n  }, props.text));\n};\n\nconst CancelButton = props => {\n  const theme = props.darkMode ? \"dark\" : \"light\";\n  return (0, preact_1.h)(\"button\", {\n    type: \"button\",\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-cancel\", theme),\n    onClick: props.onClick\n  }, (0, preact_1.h)(\"div\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-cancel-x\", theme)\n  }));\n};","map":{"version":3,"sources":["/home/rahul/Rahul_workspace/pool/node_modules/@coinbase/wallet-sdk/dist/components/TryExtensionLinkDialog.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","TryExtensionLinkDialog","clsx_1","require","preact_1","hooks_1","util_1","version_1","globe_icon_svg_1","link_icon_svg_1","lock_icon_svg_1","QRLogo_1","QRCode_1","Spinner_1","TryExtensionLinkDialog_css_1","props","isOpen","darkMode","isContainerHidden","setContainerHidden","useState","isDialogHidden","setDialogHidden","useEffect","timers","window","setTimeout","push","forEach","clearTimeout","theme","h","class","default","TryExtensionBox","onInstallClick","open","connectDisabled","ScanQRBox","version","sessionId","sessionSecret","linkAPIUrl","isConnected","isParentConnection","chainId","onCancel","CancelButton","onClick","isClicked","setIsClicked","clickHandler","useCallback","location","reload","type","DescriptionItem","icon","text","qrUrl","createQrUrl","href","target","rel","QRCode","content","width","height","fgColor","bgColor","image","svg","name","LIB_VERSION","Spinner","size","color","src"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TryExtensionLinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst util_1 = require(\"../util\");\nconst version_1 = require(\"../version\");\nconst globe_icon_svg_1 = __importDefault(require(\"./icons/globe-icon-svg\"));\nconst link_icon_svg_1 = __importDefault(require(\"./icons/link-icon-svg\"));\nconst lock_icon_svg_1 = __importDefault(require(\"./icons/lock-icon-svg\"));\nconst QRLogo_1 = __importDefault(require(\"./icons/QRLogo\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst TryExtensionLinkDialog_css_1 = __importDefault(require(\"./TryExtensionLinkDialog-css\"));\nconst TryExtensionLinkDialog = props => {\n    const { isOpen, darkMode } = props;\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10),\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    const theme = darkMode ? \"dark\" : \"light\";\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-container\", isContainerHidden && \"-cbwsdk-extension-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, TryExtensionLinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-backdrop\", theme, isDialogHidden && \"-cbwsdk-extension-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-extension-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box\", isDialogHidden && \"-cbwsdk-extension-dialog-box-hidden\") },\n                (0, preact_1.h)(TryExtensionBox, { darkMode: darkMode, onInstallClick: () => {\n                        window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n                    } }),\n                !props.connectDisabled ? ((0, preact_1.h)(ScanQRBox, { darkMode: darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, linkAPIUrl: props.linkAPIUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection, chainId: props.chainId })) : null,\n                props.onCancel && ((0, preact_1.h)(CancelButton, { darkMode: darkMode, onClick: props.onCancel }))))));\n};\nexports.TryExtensionLinkDialog = TryExtensionLinkDialog;\nconst TryExtensionBox = ({ darkMode, onInstallClick }) => {\n    const [isClicked, setIsClicked] = (0, hooks_1.useState)(false);\n    const clickHandler = (0, hooks_1.useCallback)(() => {\n        if (isClicked) {\n            window.location.reload();\n        }\n        else {\n            onInstallClick();\n            setIsClicked(true);\n        }\n    }, [onInstallClick, isClicked]);\n    const theme = darkMode ? \"dark\" : \"light\";\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-top\", theme) },\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-extension-dialog-box-top-install-region\" },\n            (0, preact_1.h)(\"h2\", { class: theme }, \"Try the Coinbase Wallet extension\"),\n            isClicked && ((0, preact_1.h)(\"div\", { class: \"-cbwsdk-extension-dialog-box-top-subtext\" }, \"After installing Coinbase Wallet, refresh the page and connect again.\")),\n            (0, preact_1.h)(\"button\", { type: \"button\", onClick: clickHandler }, isClicked ? \"Refresh\" : \"Install\")),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-top-info-region\", theme) },\n            (0, preact_1.h)(DescriptionItem, { darkMode: darkMode, icon: link_icon_svg_1.default, text: \"Connect to crypto apps with one click\" }),\n            (0, preact_1.h)(DescriptionItem, { darkMode: darkMode, icon: lock_icon_svg_1.default, text: \"Your private key is stored securely\" }),\n            (0, preact_1.h)(DescriptionItem, { darkMode: darkMode, icon: globe_icon_svg_1.default, text: \"Works with Ethereum, Polygon, and more\" }))));\n};\nconst ScanQRBox = props => {\n    const qrUrl = (0, util_1.createQrUrl)(props.sessionId, props.sessionSecret, props.linkAPIUrl, props.isParentConnection, props.chainId);\n    const theme = props.darkMode ? \"dark\" : \"light\";\n    return ((0, preact_1.h)(\"div\", { \"data-testid\": \"scan-qr-box\", class: (0, clsx_1.default)(`-cbwsdk-extension-dialog-box-bottom`, theme) },\n        (0, preact_1.h)(\"div\", { class: `-cbwsdk-extension-dialog-box-bottom-description-region` },\n            (0, preact_1.h)(\"h2\", { class: theme }, \"Or scan to connect\"),\n            (0, preact_1.h)(\"body\", { class: (0, clsx_1.default)(`-cbwsdk-extension-dialog-box-bottom-description`, theme) },\n                \"Open\",\n                \" \",\n                (0, preact_1.h)(\"a\", { href: \"https://wallet.coinbase.com/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Coinbase Wallet\"),\n                \" \",\n                \"on your mobile phone and scan\")),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-extension-dialog-box-bottom-qr-region\" },\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-extension-dialog-box-bottom-qr-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 150, height: 150, fgColor: \"#000\", bgColor: \"transparent\", image: {\n                        svg: QRLogo_1.default,\n                        width: 34,\n                        height: 34,\n                    } })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"cbwsdk-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { \"data-testid\": \"connecting-spinner\", class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-bottom-qr-connecting\", theme) },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 36, color: props.darkMode ? \"#FFF\" : \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))))));\n};\nconst DescriptionItem = props => {\n    const theme = props.darkMode ? \"dark\" : \"light\";\n    return ((0, preact_1.h)(\"div\", { class: \"-cbwsdk-extension-dialog-box-top-description\" },\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-extension-dialog-box-top-description-icon-wrapper\" },\n            (0, preact_1.h)(\"img\", { src: props.icon })),\n        (0, preact_1.h)(\"body\", { class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-top-description-text\", theme) }, props.text)));\n};\nconst CancelButton = props => {\n    const theme = props.darkMode ? \"dark\" : \"light\";\n    return ((0, preact_1.h)(\"button\", { type: \"button\", class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-cancel\", theme), onClick: props.onClick },\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-extension-dialog-box-cancel-x\", theme) })));\n};\n"]},"metadata":{},"sourceType":"script"}